<html> 
    <head>
        <title>Speisekarte</title>
        
       <!-- Latest compiled and minified CSS of bootstrap -->
       <meta name="viewport" content="width=device-width, initial-scale=1">
       <script src="ressources/jquery-3.1.1.min.js" type="text/javascript"></script>
       <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
       <link  rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
              integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
       <link rel="stylesheet" href="suchfeld.css">
    </head>

	<script type="text/javascript">
	//hier werden 3 Beispielfrüchte erstellt, später kommen die nurnoch aus SQL
	var banane= {titel:"Banane",text:"Bananen sind sehr lecker und Gesund für dich und miiieech!",herkunft:["Afrika","Panama","Indonesien"]};
	var apfel={titel:"Apfel",text:"Äpfel gibt es fast überall auf der Welt und das gute steckt in der Schale, oderso", herkunft:["Deutschland","Italien","Amerika"]}
	var ananas={titel:"Ananas",text:"Ananas (Ja, das ist der Plural), wachsen auf dem Boden und sind eigentlich eine Beere", herkunft:["Indonesien","Karibik"]}
	</script>
	
    <body>
      <div class="container">
        <div class="row" style="display:flex;">
          <div class="col-sm-10"> 
            <h1 font-size="62">Speisekarte</h1>
            <object id="svgMap" data="ressources/BlankMap-World8.svg" type="image/svg+xml">

              <!-- Fallback --> 
              Ihr Browser kann leider kein svg darstellen!  
            </object> 
            
          </div>
          <div id="Klappe">
          	<h2>Obstsuche</h2>
	          	<div id="Suchfeld">
		          	<input type="text" class="form-control input-lg" placeholder="Hier Obst eingeben!" list="früchte" id="suchwert">
			            <datalist id="früchte">
				   			<option value="Ananas" />
				   			<option value="Apfel" />
				   			<option value="Banane" />
						</datalist>
						<span>
				            <button style="float:right" class="btn btn-info btn-lg" type="button" onclick="suchfunktion(document.getElementById('suchwert').value)">
				            <i class="glyphicon glyphicon-search"></i>
				            </button>
			            </span>
		            </input>
          		</div>
          	</div>
          	<div id="Klappentext" class="col-sm-2" style="display:none">
	            <h1 id="fruchttitel"></h1>
	            <p id="fruchttext"></p></br>
	            <hr/>
	            <h3>Kommen vor in</h3>
	            <ul id="herkunftsliste"></ul>
	            <hr/>
	            <h3>Beschreibung</h3>
	            <p id="beschreibung">Hier könnte eine weitere Beschreibung stehen!</p>
	            <button onclick="{document.getElementById('Klappe').style='display:block';document.getElementById('Klappentext').style='display:none';}"">Zurück zur Suche</button>
          	</div>
          </div> 
       </div> 
     </body>
     
     <script type="text/javascript">
		//gefundene Funktion im Internet zum abschicken von PHP Request. Habe es mal aufgehoben	
     	$(function() {    
			     $('#search').keyup(function() {
			          if($(this).val().length > 0) {
			               $.get("mysqlabfrage.php", {search: $(this).val()}, function(data) {
			                    $("#results").html(data);
			               });
			          }
			     });
		});
		
     	//Die Funktion, die die Suche aufruft. 
		function suchfunktion(suche){
				//hier kommen später SQL Abfragen über PHP hin, nicht so hartcodiert. Jedes frucht.titel wird durch den php request ersetzt, aber die Mechanik passt so 
				if(suche==banane.titel){
					document.getElementById('Klappe').style='display:none';
					document.getElementById('Klappentext').style='display:block';
					document.getElementById('fruchttitel').innerHTML=banane.titel;
					document.getElementById('fruchttext').innerHTML=banane.text;
					for (i = 0; i < banane.herkunft.length; i++) { 
						document.getElementById('herkunftsliste').innerHTML += "<li>" + banane.herkunft[i] + "</li>"+" ";
					}	
		}
				else if(suche==apfel.titel){
					document.getElementById('Klappe').style='display:none';
					document.getElementById('Klappentext').style='display:block';
					document.getElementById('fruchttitel').innerHTML=apfel.titel;
					document.getElementById('fruchttext').innerHTML=apfel.text;
					for (i = 0; i < banane.herkunft.length; i++) { 
						document.getElementById('herkunftsliste').innerHTML += "<li>" + apfel.herkunft[i] + "</li>"+" ";
					}
					
				}
				else if(suche==ananas.titel){
					document.getElementById('Klappe').style='display:none';
					document.getElementById('Klappentext').style='display:block';
					document.getElementById('fruchttitel').innerHTML=ananas.titel;
					document.getElementById('fruchttext').innerHTML=ananas.text;
					for (i = 0; i < banane.herkunft.length; i++) { 
						document.getElementById('herkunftsliste').innerHTML += "<li>" + ananas.herkunft[i] + "</li>"+" ";
					}	
				}

			}
	</script>
</html>